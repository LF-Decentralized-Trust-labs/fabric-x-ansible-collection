#
# Copyright IBM Corp. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#

- name: Check if {{ package_name }} is installed
  ansible.builtin.shell:
    cmd: "command -v {{ package_name }} > /dev/null 2>&1"
  register: package_check
  changed_when: false
  failed_when: false

- name: Install {{ package_name }} on macOS
  community.general.homebrew:
    name:
      - "{{ package_name }}"
    state: present
  when:
    - package_check.rc != 0
