#
# Copyright IBM Corp. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#

{% include './sections/server.yaml.j2' +%}
{% if prometheus_exporter_port is defined %}
{% include './sections/monitoring.yaml.j2' +%}
{% endif %}

{% include './sections/logging.yaml.j2' +%}

{% include './sections/database.yaml.j2' +%}

# ---------------------------------------------------------------------------
# Batch limit settings
# ---------------------------------------------------------------------------
# A batch will execute once it accumulated this number of keys.
min-batch-keys: {{ committer_query_service_min_batch_keys | default(1024) }}
# A batch will execute once it waited this much time.
max-batch-wait: {{ committer_query_service_max_batch_wait | default('100ms') }}

# ---------------------------------------------------------------------------
# View limit settings
# ---------------------------------------------------------------------------
# A new view will be created if the previous view was created before this much time.
view-aggregation-window: {{ committer_query_service_view_aggregation_window | default('100ms') }}
# A new view will be created if the previous view aggregated this number of views.
max-aggregated-views: {{ committer_query_service_max_aggregated_views | default(1024) }}
# A view will be closed if it was opened for longer than this time.
max-view-timeout: {{ committer_query_service_max_view_timeout | default('10s') }}
