#
# Copyright IBM Corp. All Rights Reserved.
#
# SPDX-License-Identifier: Apache-2.0
#

#############################################################################
#   This is a configuration file for the fabric-ca-server command.
#
#   COMMAND LINE ARGUMENTS AND ENVIRONMENT VARIABLES
#   ------------------------------------------------
#   Each configuration element can be overridden via command line
#   arguments or environment variables.  The precedence for determining
#   the value of each element is as follows:
#   1) command line argument
#      Examples:
#      a) --port 443
#         To set the listening port
#      b) --ca.keyfile ../mykey.pem
#         To set the "keyfile" element in the "ca" section below;
#         note the '.' separator character.
#   2) environment variable
#      Examples:
#      a) FABRIC_CA_SERVER_PORT=443
#         To set the listening port
#      b) FABRIC_CA_SERVER_CA_KEYFILE="../mykey.pem"
#         To set the "keyfile" element in the "ca" section below;
#         note the '_' separator character.
#   3) configuration file
#   4) default value (if there is one)
#      All default values are shown beside each element below.
#
#   FILE NAME ELEMENTS
#   ------------------
#   The value of all fields whose name ends with "file" or "files" are
#   name or names of other files.
#   For example, see "tls.certfile" and "tls.clientauth.certfiles".
#   The value of each of these fields can be a simple filename, a
#   relative path, or an absolute path.  If the value is not an
#   absolute path, it is interpreted as being relative to the location
#   of this configuration file.
#
#############################################################################

# Version of config file
version: 1.5.15

# Server's listening port (default: 7054)
port: {{ fabric_ca_port }}

# Enables debug logging (default: false)
debug: {{ (fabric_ca_log_level == 'DEBUG') | bool | lower }}

# Cross-Origin Resource Sharing (CORS)
cors:
    enabled: false
    origins:
      - "*"

{% include './sections/tls.yaml.j2' +%}
{% include './sections/ca.yaml.j2' +%}
{% include './sections/crl.yaml.j2' +%}
{% include './sections/operations.yaml.j2' +%}
{% include './sections/registry.yaml.j2' +%}
{% include './sections/db.yaml.j2' +%}
{% include './sections/signing.yaml.j2' +%}
{% include './sections/csr.yaml.j2' +%}
